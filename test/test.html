<!DOCTYPE html>
<html>
<head>
  <title>Atlastory.js Tests</title>
  <meta content="text/html;charset=UTF-8" http-equiv="content-type"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="../build/Atlastory.css" type="text/css" />
  <style type="text/css">
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
    }
    #map {
      position: absolute;
      top: 0; bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>

  <div id="map"></div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
  <script type="text/javascript" src="../build/Atlastory.js"></script>
  <script type="text/template" id="modalTemplate">
    <div class="modal-header">Modal Content</div>
  </script>
  <script type="text/javascript">
    $(function() {
      var $logo = $(Atlastory._logo),
        content = $('#modalTemplate').html(),
        modal = new Atlastory.Modal(content);

      $logo.tooltip({
        container: '.atlastory-map',
        title: 'Find out more...'
      }).click(function() { modal.show(); });
    });

    var periods = [
      { id: '33vaq0k9', start_year: 1945, end_year: 1954 },
      { id: '25vims4i', start_year: 1954, end_year: 1956 },
      { id: '94jqncdi', start_year: 1956, end_year: 1992 },
      { id: 'efk49529', start_year: 1992, end_year: 2010 },
    ];

    var markers = [
      { date: '1914-01-01', lat: 0, lon: 0, name: "test1",
        link: "http://www.atlastory.com/",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua." },
      { date: '1910-08-01', lat: 2, lon: 2, name: "test2",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua." },
    ];

    var map = Atlastory.map('map', 1956, {
      preload: true,
      timezoom: 2,
      rainbow: true,
      maxZoom: 6
    });

    for (var p in periods) {
      Atlastory.addPeriod(periods[p]);
    }
    for (var m in markers) {
      Atlastory.addMarker(markers[m]);
    }

    Atlastory.hash(map);
  </script>
</body>
</html>
